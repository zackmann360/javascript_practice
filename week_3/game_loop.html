<!-- A game loop is a loop that lasts forever and runs 60 times a second -->

<!doctype html>
<html>
    <body>
        <style>
            canvas {
                width: 300px;
                height: 300px;
                background: #999;
            }
        </style>
        <canvas width="300" height="300"></canvas>
        <script>
            var canvas = document.querySelector('canvas')
            var ctx = canvas.getContext('2d')
            var frameDuration = 1000/60 // 60 times per second

            // game loop in javascript
            setInterval(gameLoop, frameDuration)


            var x = 0
            var y = 0
            var speedX = 4
            var speedY = 2
            
            function gameLoop() {
                // console.log('meow')
                ctx.clearRect(0, 0, 300, 300)
                
                // step code
                x = x + speedX
                y = y + speedY
                
                if (x > 300) {
                    speedX = speedX * -1
                }
                if (x < 0) {
                    speedX = speedX * -1
                }

                if (y > 300) {
                    speedY = speedY * -1
                }

                if (y < 0) {
                    speedY = speedY * -1
                }

                // draw
                // draw a rectangle at a place
                ctx.fillRect(x, y, 10, 10)
            }
        </script>
    </body>
</html>